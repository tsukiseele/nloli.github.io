(function(e){function t(t){for(var r,o,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/nloli.github.io/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07df":function(e,t,n){"use strict";n("e7d8")},"134d":function(e,t,n){},"2ed9":function(e,t,n){"use strict";n("3582")},3582:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("TheHeader",{attrs:{title:e.title},on:{"open-setting":e.openSetting}}),n("main",[n("div",{staticClass:"contain"},[n("div",{staticClass:"options"},[n("div",{staticClass:"upload-wrap",on:{click:function(t){return e.$refs.upload.click()}}},[n("input",{ref:"upload",attrs:{id:"upload",type:"file"},on:{change:e.onFileSelect}}),e.previewUrl?n("img",{staticClass:"preview",attrs:{src:e.previewUrl}}):n("i",{staticClass:"placeholder mdi mdi-image"})]),n("button",{staticClass:"submit",on:{click:e.uploadImage}},[n("i",{staticClass:"mdi mdi-upload light"})])]),n("VProgress",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]}),e.img.sourceUrl?n("ul",{staticClass:"link-list"},e._l(e.img,(function(t,r){return n("li",{key:r,staticClass:"link-item"},[n("div",{staticClass:"link-name"},[e._v(e._s(r.toUpperCase()))]),n("a",{staticClass:"link-value",attrs:{href:t.value.toString().indexOf("http")>=0?t.value:null}},[e._v(" "+e._s(t.value))])])})),0):e._e()],1)]),n("TheDrawer",{model:{value:e.openDrawer,callback:function(t){e.openDrawer=t},expression:"openDrawer"}},[n("ul",{staticClass:"config-info"},e._l(e.config,(function(t,r){return n("li",{key:r,staticClass:"config-item"},[n("div",{staticClass:"config-name"},[e._v(e._s(r.toUpperCase()))]),n("div",{staticClass:"config-value"},[e._v(e._s(t))])])})),0)]),n("TheFooter")],1)},i=[],o=n("1da1"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("5319"),n("99af"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{attrs:{id:"header"}},[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),n("div",{staticClass:"setting",on:{click:function(t){return e.$emit("open-setting")}}},[n("i",{staticClass:"mdi mdi-information-outline"}),n("i",{staticClass:"mdi mdi-tune"})])])}),s=[],l={name:"TheHeader",props:{title:String}},u=l,d=(n("fe2e"),n("2877")),f=Object(d["a"])(u,c,s,!1,null,"36d6ee49",null),p=f.exports,h=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{attrs:{id:"footer"}},[n("div",{staticClass:"copyright"},[e._v("© 2021 by TsukiSeele All Rights Reserved.")])])}],v={name:"TheFooter"},g=v,b=(n("c314"),Object(d["a"])(g,h,m,!1,null,"2d4ff528",null)),w=b.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-drawer",class:{open:e.show}},[n("div",{staticClass:"drawer-blank",on:{click:function(t){return e.$emit("change",!e.show)}}}),n("div",{staticClass:"drawer-main"},[n("div",{staticClass:"drawer-banner"}),n("ul",{staticClass:"drawer-body",on:{click:function(t){return e.$emit("change",!e.show)}}},[e._t("default")],2)])])},_=[],y={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},data:function(){return{drawer:!1}},methods:{}},k=y,x=(n("07df"),Object(d["a"])(k,C,_,!1,null,"7ffa06ee",null)),O=x.exports,R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"rect1"}),n("div",{staticClass:"rect2"}),n("div",{staticClass:"rect3"}),n("div",{staticClass:"rect4"}),n("div",{staticClass:"rect5"})])}],U=(n("5e30"),{}),S=Object(d["a"])(U,R,j,!1,null,"6e9fbd7c",null),T=S.exports,F={getMd5:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=SparkMD5,n.next=3,t.readFileAsBin(e);case 3:return n.t1=n.sent,n.abrupt("return",n.t0.hashBinary.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),n)})))()},readFileAsBase64:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result.replace(/.*,/,""))},r.onerror=function(){n("ERROR: FileReader onerror was triggered, maybe the browser aborted due to high memory usage.")},r.readAsDataURL(e)}))},readFileAsBin:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(){n("ERROR: FileReader onerror was triggered, maybe the browser aborted due to high memory usage.")},r.readAsBinaryString(e)}))}},P={name:"App",components:{TheHeader:p,TheFooter:w,TheDrawer:O,VProgress:T},data:function(){return{title:"NLOLI HOST",openDrawer:!1,loading:!1,img:{},previewUrl:null}},created:function(){console.log(this.config)},computed:{config:function(){return{token:token,repo:repo,branch:branch,prefix:prefix,username:username,email:email}}},methods:{openSetting:function(){this.openDrawer=!0},onFileSelect:function(e){this.previewUrl=URL.createObjectURL(e.target.files[0])},asCdnUrl:function(e){return e.replace("raw.githubusercontent.com","cdn.jsdelivr.net/gh").replace("".concat(branch,"/"),"")},getInfo:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},uploadImage:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,s,l,u,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.loading=!0,n=document.getElementById("upload"),n&&n.files&&n.files[0]){t.next=5;break}return t.abrupt("return");case 5:if(r=n.files[0],e.previewUrl=URL.createObjectURL(r),/image\/\w+/.test(r.type)){t.next=10;break}return alert("无法识别该图片！"),t.abrupt("return",!1);case 10:return t.next=12,F.readFileAsBase64(r);case 12:return a=t.sent,t.next=15,F.getMd5(r);case 15:return i=t.sent,o="".concat(i,".").concat(r.type.replace(/.*\//,"")),c={message:"upload image ".concat(o),content:a},t.next=20,fetch("https://api.github.com/repos/".concat(repo,"/contents/").concat(prefix).concat(o),{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:"token ".concat(token)}});case 20:if(s=t.sent,!s.ok){t.next=29;break}return t.next=24,s.json();case 24:l=t.sent,u={name:{detail:"文件名",value:l.content.name},sha:{detail:"SHA",value:l.content.sha},size:{detail:"文件大小",value:l.content.size},sourceUrl:{detail:"来源",value:l.content.download_url},cdnUrl:{detail:"CDN加速",value:e.asCdnUrl(l.content.download_url)}},e.img=u,t.next=30;break;case 29:422===s.status?(d="https://raw.githubusercontent.com/".concat(e.config.repo,"/").concat(e.config.branch,"/").concat(e.config.prefix).concat(o),f={sourceUrl:{detail:"来源",value:d},cdnUrl:{detail:"CDN加速",value:e.asCdnUrl(d)}},e.img=f):alert("图片上传失败");case 30:t.next=35;break;case 32:t.prev=32,t.t0=t["catch"](0),alert("图片上传失败：".concat(t.t0));case 35:return t.prev=35,e.loading=!1,t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[0,32,35,38]])})))()}}},$=P,D=(n("2ed9"),Object(d["a"])($,a,i,!1,null,"b07699bc",null)),A=D.exports;n("dbaa"),n("e919");r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(A)}}).$mount("#app")},"5e30":function(e,t,n){"use strict";n("134d")},6687:function(e,t,n){},c314:function(e,t,n){"use strict";n("6687")},dbaa:function(e,t,n){},e737:function(e,t,n){},e7d8:function(e,t,n){},e919:function(e,t,n){},fe2e:function(e,t,n){"use strict";n("e737")}});
//# sourceMappingURL=app.f5822939.js.map